<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enviar dinero</title>


    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body {
            background-color: #ecdde8;
        }

        .actions {
            display: flex;
            justify-content: center;

        }
    </style>
</head>




<body>

    <nav class="navbar navbar-expand-lg navbar-light bg-light px-4">
        <span class="navbar-brand fw-bold">Menú</span>

        <div class="ms-auto">
            <span class="me-3">Saldo:</span>
            <strong id="saldoNav">$60000</strong>
        </div>
    </nav>


    <!-- CONTENEDOR PRINCIPAL -->
    <div class="container py-4 login-box">


        <div class="row mx-auto">
            <div class="col">
                <h2 class="text-center">Enviar dinero</h2>
            </div>
        </div>

        <!-- CONTACTOS-->
        <form class="p-4 bg-body-tertiary mx-auto login-box"
            style="max-width: 600px; width: 100%; border-radius: 24px;">

            <!-- Agenda -->

            <div class="form-group mb-3">

                <!-- OPCIONES PRINCIPALES -->
                <div class="d-flex gap-2 mt-2">
                    <button type="button" class="btn btn-primary flex-fill" id="btnMostrarAgenda">
                        Buscar en la agenda de contactos
                    </button>


                    <button type="button" class="btn btn-primary flex-fill" id="btnNuevoContacto">
                        Agregar nuevo contacto
                    </button>
                </div>



                <!-- ✅ AGENDA (oculta al inicio) -->
                <div id="agendaContainer" class="mt-3 d-none">

                    <!-- FORMULARIO DE BÚSQUEDA -->
                    <div class="mb-3">
                        <label for="buscarcontacto">Buscar en la agenda:</label>
                        <input type="text" class="form-control" id="buscarcontacto"
                            placeholder="Buscar por nombre o alias">
                        <div id="msgNoExiste" class="text-danger mt-2 d-none">
                            Este contacto no existe.
                        </div>
                    </div>

                    <!-- LISTADO DE CONTACTOS (solo nombre y alias) -->
                    <div class="row mx-auto">
                        <div class="col">
                            <h3 class="text-center">Contactos</h3>
                        </div>
                    </div>

                    <ul id="ListaContactos" class="list-group">
                        <li class="list-group-item" data-alias="cris">
                            <div class="contact-info d-flex justify-content-between">
                                <span class="contact-name">Cristian Mendez</span>
                                <span class="contact-alias fw-semibold">Alias: cris</span>
                            </div>
                        </li>

                        <li class="list-group-item" data-alias="erica">
                            <div class="contact-info d-flex justify-content-between">
                                <span class="contact-name">Erica Muñoz</span>
                                <span class="contact-alias fw-semibold">Alias: erica</span>
                            </div>
                        </li>
                    </ul>

                </div>

                <!-- ✅ BOTÓN ENVIAR (solo aparece si seleccionas contacto) -->
                <div class="actions p-2">
                    <button type="button" class="btn btn-primary d-none" id="btnEnviarDinero">Enviar dinero</button>
                </div>

                <!-- Confirmación de envio y alerta -->
                <div id="confirmacionEnvio" class="text-center mt-3 fw-bold"></div>
                <div id="alert-container" class="mt-3"></div>

            </div>
        </form>


    </div>





    <!--  Ocultar boton  -->

    <div class="actions p-2">
        <button type="button" class="btn btn-primary d-none" id="btnEnviarDinero">Enviar dinero</button>
    </div>

    <!-- Confirmación de envio y alerta -->

    <div id="confirmacionEnvio" class="text-center mt-3 fw-bold"></div>
    <div id="alert-container" class="mt-3"></div>


    </form>

    <!-- VOLVER AL MENÚ -->

    <div class="actions p-5 text-center">
        <a href="menu.html" class="btn btn-secondary">Ir al Menú Principal</a>
    </div>


    </div>

    <!-- Modal: Agregar contacto-->

    <div class="modal fade" id="modalContacto" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">

                <div class="modal-header">
                    <h5 class="modal-title">Agregar nuevo contacto</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
                </div>

                <div class="modal-body">

                    <div id="alert-contacto" class="mb-3"></div>

                    <div class="mb-3">
                        <label class="form-label">Nombre y apellido</label>
                        <input type="text" class="form-control" id="contactoNombre">
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Número de CBU</label>
                        <input type="text" class="form-control" id="contactoCBU">
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Alias</label>
                        <input type="text" class="form-control" id="contactoAlias">
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Nombre del Banco</label>
                        <input type="text" class="form-control" id="contactoBanco">
                    </div>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>

                    <button type="button" class="btn btn-primary" id="btnGuardarContacto">Guardar contacto</button>
                </div>

            </div>
        </div>
    </div>


    <!-- Modal: Ingresar monto -->
    <div class="modal fade" id="modalMonto" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">

                <div class="modal-header">
                    <h5 class="modal-title">Enviar dinero</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
                </div>

                <div class="modal-body">
                    <label class="form-label">Ingrese monto</label>
                    <input type="number" class="form-control" id="montoEnviar" placeholder="Ej: 10000" min="1">
                    <div id="errorMonto" class="text-danger mt-2"></div>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary" id="btnConfirmarEnvio">Aceptar</button>
                </div>

            </div>
        </div>
    </div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="EnviarDinero.js"></script>

</body>

</html>